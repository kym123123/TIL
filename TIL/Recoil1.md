# Recoil

독자적으로 자주 렌더링 될 필요가 있는 많은 컴포넌트들을 다루기 위해서 만들어진다.

Recoil의 특징

1. Flexible shared state: 보일러플레이트 없이 사용 가능. reducer같은 것들을 만들 필요가 없다. 간단한 setter와 getter를 이용하여 작업을 할 수 있다. 또한 code-splitting을 허용한다.
2. Derived Data: 안전하고 간단하게 다른 상태나 데이터로부터 데이터나 상태를 만들수 있다. 그 데이터나 상태에 접근하는 것도 간단하다. 데이터는 동기 또는 비동기 방식으로 사용이 가능하다.
3. App-wide state observation: recoil state의 어느 부분이라도 읽을 수 있고, 상태의 변화를 관찰할 수 있다. app의 상태를 지속시킬 수 있다.



Recoil 사용 이유: 컴포넌트 트리와 state가 매칭되지 않을경우, 예를들어, app(최상위 부모 컴포넌트)컴포넌트 아래에 3개의 컴포넌트 a,b,c가 있고, a,b,c에서 사용되는 상태 각각은 app컴포넌트에서 props로 내려주어야만 하는 경우에, a의 상태만 변화시켜도 app컴포넌트가 rerendering되기 때문에 a,b,c모두 리 렌더링 되게 된다. 이것은 성능상으로 상당히 좋지않다.(자식 컴포넌트의 개수가 늘어날수록..)

Recoil state를 이용하면 react의 밖에  상태를 저장시켜두고, a,b,c컴포넌트는 자신이 사용하는 state만을 구독하여 사용, 변경 할 수 있으며, app에 공통적으로 state가 공유되지 않기 때문에 원치 않는 리렌더링을 막기에 좋다. context api를 사용하는 것과 비슷하지만,  context api는 동적으로 상태를 추가, 생성 하기 힘들고 구조도 복잡해지기 때문에 이러한 단점이 보완된 것이 recoil state라고 할 수 있다.